(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8477:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(5267)}])},5267:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return b}});var s=l(1527),i=l(9172),r=l.n(i),a=l(959),n=l(6980),o=l.n(n),c=l(1953);function x(e){return(0,s.jsxs)("div",{className:"flex h-full min-h-screen bg-sky-500 -z-20 antialiased",style:{backgroundColor:"#38bdf8",backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='30' height='30' opacity='0.4' viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10h10v10H0V10zM10 0h10v10H10V0z' fill='%23bae6fd' fill-opacity='0.4' fill-rule='evenodd'/%3E%3C/svg%3E\")"},children:[(0,s.jsxs)(o(),{children:[(0,s.jsx)("title",{children:e.title}),(0,s.jsx)("meta",{property:"og:title",content:e.title}),(0,s.jsx)("meta",{name:"description",content:"Transcribe any audio file - completely free!"}),(0,s.jsx)("meta",{property:"og:description",content:"Transcribe any audio file - completely free!"})]}),(0,s.jsxs)("main",{className:"flex flex-1 flex-col",children:[(0,s.jsx)(c.x7,{}),(0,s.jsx)("div",{className:"flex-1",children:e.children})]})]})}var d=l(3575);let h=["byte","kilobyte","megabyte","gigabyte","terabyte","petabyte"];function u(e){let t=Math.abs(Number(e)),l=0;for(;t>=1e3&&l<h.length-1;)t/=1e3,++l;return new Intl.NumberFormat([],{style:"unit",unit:h[l],unitDisplay:"short",maximumFractionDigits:1}).format(t)}let m=e=>{let{progress:t,loaded:l}=e;return(0,s.jsx)(s.Fragment,{children:t>0&&t<100&&!l&&(0,s.jsx)("div",{className:"flex flex-col gap-2",children:(0,s.jsx)("div",{className:"h-3 outline outline-white bg-gray-200",children:(0,s.jsx)("div",{className:"bg-emerald-500 h-3",style:{width:"".concat(t,"%")}})})})})},f=e=>{let{selectedModel:t,setSelectedModel:l,loaded:i,progress:r}=e,[n,o]=(0,a.useState)(!1),c=e=>e.charAt(0).toUpperCase()+e.slice(1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,s.jsx)("label",{className:"text-white text-xl font-semibold",children:"Select Model"}),r>0&&!i&&(0,s.jsxs)("label",{className:"text-white text-xl font-semibold text-right",children:[r.toFixed(2),"%"]})]}),(0,s.jsxs)("div",{className:"group inline-block relative w-full",children:[(0,s.jsxs)("button",{className:"bg-pop-orange text-white font-semibold text-xl py-2.5 px-8 w-full inline-flex items-center outline outline-white",onClick:()=>o(!n),children:[(0,s.jsx)("span",{className:"mr-1",children:t?c(t):"Select Model"}),(0,s.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})]}),(0,s.jsx)("ul",{className:"absolute text-white group-hover:block z-10 w-full",style:{display:n?"block":"none"},children:(()=>{let e=Object.values(d.ko).slice(0,-1),t=Array.from(d.Fd.values()).slice(0,-1),i=e.map((e,l)=>[e,t[l]]);return i.map((e,t)=>(0,s.jsx)("li",{children:(0,s.jsxs)("a",{className:"bg-orange-500 hover:bg-pop-orange py-2 px-8 font-semibold text-xl block whitespace-no-wrap cursor-pointer ".concat(t===i.length-1?"rounded-b-md":""),onClick:()=>{l(e[0]),o(!1)},children:[c(e[0])," ",u(e[1])]})},e[0]))})()})]})]})},p=e=>{let t=(0,a.useRef)(null),[l,i]=(0,a.useState)(null),[r,n]=(0,a.useState)(!1),[o,x]=(0,a.useState)(null),[h,p]=(0,a.useState)(null),[w,g]=(0,a.useState)(null),[j,b]=(0,a.useState)(null),[v,y]=(0,a.useState)(!1),[N,k]=(0,a.useState)(0),[_,S]=(0,a.useState)(!1);(0,a.useEffect)(()=>{o&&l!=o&&!_&&(y(!1),k(0))},[l]),(0,a.useEffect)(()=>{if(h){let e=URL.createObjectURL(new Blob([h]));b(e)}},[h]);let F=async()=>{if(t.current&&t.current.destroy(),r)return;if(!l){console.error("No model selected");return}n(!0);let e=new d.Sj,s=await e.loadModel(l,()=>{y(!0),x(l)},e=>k(e));s.isErr?c.ZP.error(s.error.message):(n(!1),t.current=s.value)},C=async()=>{if(!t.current){c.ZP.error("No model loaded");return}if(!h){c.ZP.error("No audio file loaded");return}e.setTranscript(e=>({...e,segments:[]})),S(!0),await t.current.transcribe(h,t=>{if(t.last){S(!1),e.setDownloadAvailable(!0);return}e.setTranscript(e=>({...e,segments:[...e.segments,t]}))})};return(0,s.jsxs)("div",{className:"flex-1 w-1/2 h-full flex flex-col relative z-10 overflow-hidden",children:[(0,s.jsxs)("div",{className:"h-full px-4 xl:pl-32 my-4",children:[(0,s.jsx)("img",{src:"/whisper-turbo.png",className:"w-full xl:w-3/4 2xl:w-1/2 mx-auto pt-8 pb-4 cursor-pointer",onClick:()=>window.open("https://github.com/FL33TW00D/whisper-turbo","_blank")}),(0,s.jsxs)("div",{className:"flex flex-col mx-auto gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(f,{selectedModel:l,setSelectedModel:i,loaded:v,progress:N}),(0,s.jsx)(m,{progress:N,loaded:v}),l!=o&&0==N&&(0,s.jsx)("div",{className:"flex flex-row justify-end",children:(0,s.jsx)("button",{className:"outline text-white text-2xl font-semibold mt-2 px-3 bg-pop-orange",onClick:F,children:r?"Loading...":"Load"})})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{className:"text-white text-xl font-semibold",children:"Upload Audio"}),(0,s.jsx)("label",{className:"bg-pop-orange text-xl outline outline-white w-full text-white font-semibold py-2.5 px-8 mx-auto cursor-pointer",htmlFor:"audioFile",children:(0,s.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,s.jsx)("span",{className:"",children:h&&w?w.name:"Select Audio File"}),(0,s.jsx)("span",{className:"my-auto",children:h?u(h.length):""})]})}),(0,s.jsx)("input",{type:"file",className:"hidden",name:"audioFile",id:"audioFile",onChange:async e=>{let t=e.target.files[0];if(!t)return;let l=new FileReader;l.onload=()=>{p(new Uint8Array(l.result)),g(t)},l.readAsArrayBuffer(t)},accept:".wav,.aac,.m4a,.mp4,.mp3"})]}),j&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-white text-xl font-semibold",children:"Your Audio"}),(0,s.jsx)("audio",{controls:!0,className:"mx-auto w-full",style:{fontFamily:"__VT323_2a9463"},children:(0,s.jsx)("source",{src:j,type:"audio/wav"},j)},j)]})]}),(0,s.jsx)("div",{className:"flex flex-row pt-8 gap-4 mx-auto",children:(0,s.jsx)("button",{className:"bg-pop-orange text-2xl outline outline-white text-white font-semibold py-3 px-8 mx-auto cursor-pointer active:bg-pop-orange-dark",onClick:C,disabled:_,children:_?(0,s.jsx)("div",{className:"flex p-4",children:(0,s.jsx)("span",{className:"loader"})}):"Transcribe"})})]}),(0,s.jsx)("div",{className:"absolute bottom-0 w-full text-center px-4 xl:pl-32",children:(0,s.jsxs)("p",{className:"text-2xl text-white mx-auto",children:["Built by"," ",(0,s.jsx)("a",{href:"https://twitter.com/fleetwood___",className:"hover:underline hover:text-blue-600",children:"@fleetwood"})]})})]})};var w=l(5084);let g=()=>{let[e,t]=(0,a.useState)(!1),[l,i]=(0,a.useState)(!0);a.useRef(null),(0,a.useEffect)(()=>{if(!navigator.gpu){i(!0);return}t(!0)},[]);let r=()=>{i(!1)},n=(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"50",height:"50",viewBox:"0 0 78 97.5",fill:"currentColor",children:(0,s.jsxs)("g",{children:[(0,s.jsx)("rect",{x:"54",y:"54",width:"6",height:"6"}),(0,s.jsx)("rect",{x:"36",y:"36",width:"6",height:"6"}),(0,s.jsx)("rect",{x:"30",y:"42",width:"6",height:"6"}),(0,s.jsx)("rect",{x:"24",y:"48",width:"6",height:"6"}),(0,s.jsx)("rect",{x:"18",y:"54",width:"6",height:"6"}),(0,s.jsx)("rect",{x:"42",y:"30",width:"6",height:"6"}),(0,s.jsx)("rect",{x:"48",y:"24",width:"6",height:"6"}),(0,s.jsx)("rect",{x:"54",y:"18",width:"6",height:"6"}),(0,s.jsx)("rect",{x:"42",y:"42",width:"6",height:"6"}),(0,s.jsx)("rect",{x:"48",y:"48",width:"6",height:"6"}),(0,s.jsx)("rect",{x:"30",y:"30",width:"6",height:"6"}),(0,s.jsx)("rect",{x:"18",y:"18",width:"6",height:"6"}),(0,s.jsx)("rect",{x:"24",y:"24",width:"6",height:"6"})]})});return(0,s.jsx)(s.Fragment,{children:e?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(w.Z,{classNames:{modal:"!bg-pop-orange !outline w-1/2 md:w-1/2 xl:w-1/3 2xl:w-1/4 overflow-x-hidden !text-white"},open:l,onClose:r,center:!0,closeIcon:n,children:(0,s.jsx)("div",{className:"flex flex-col text-2xl h-full text-center",style:{fontFamily:"__VT323_2a9463"},children:(0,s.jsx)("div",{className:"mx-8 mt-8 text-stone-50",children:(0,s.jsx)("p",{children:"Uh oh! It looks like your browser doesn't support WebGPU. Please try again in a different browser."})})})})})},j=()=>{let[e,t]=(0,a.useState)({segments:[]}),[l,i]=(0,a.useState)(!1),n=()=>{let t=JSON.stringify(e),l=new Blob([t],{type:"application/json"}),s=URL.createObjectURL(l),i=document.createElement("a");i.download="transcript.json",i.href=s,i.click(),i.remove()};return(0,s.jsxs)(x,{title:"Whisper Turbo",children:[(0,s.jsx)("div",{className:"p-0 ".concat(r().className),children:(0,s.jsxs)("div",{className:"flex gap-8 flex-row h-screen",children:[(0,s.jsx)(p,{transcript:e,setTranscript:t,setDownloadAvailable:i}),(0,s.jsx)("div",{className:"flex-1 w-1/2 h-full flex flex-col relative z-10",children:(0,s.jsx)("div",{className:"h-full flex flex-col mx-auto px-4 xl:pr-32 overflow-scroll py-12 w-full",children:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[e&&e.segments.map(e=>(0,s.jsx)("div",{className:"flex w-full py-4",children:(0,s.jsxs)("div",{className:"rounded p-4 bg-white outline outline-2 outline-black shadow-lg align-right",children:[(0,s.jsx)("div",{className:"font-bold text-lg text-green-700 mb-2",children:e.start}),(0,s.jsx)("div",{className:"mb-2 text-2xl text-slate-900 text-right",children:e.text}),(0,s.jsx)("div",{className:"font-bold text-lg text-red-700",children:e.stop})]})},e.start)),l?(0,s.jsx)("div",{className:"flex flex-row justify-end py-4",children:(0,s.jsx)("button",{className:"bg-green-500 outline hover:bg-green-700 text-white font-bold py-2 px-4",onClick:n,children:"Download"})}):(0,s.jsx)(s.Fragment,{})]})})})]})}),(0,s.jsx)(g,{})]})};var b=j}},function(e){e.O(0,[492,439,774,888,179],function(){return e(e.s=8477)}),_N_E=e.O()}]);